var I=Object.defineProperty;var K=(d,a,t)=>a in d?I(d,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[a]=t;var m=(d,a,t)=>(K(d,typeof a!="symbol"?a+"":a,t),t);import{d as H,u as O,r as l,o as E,w as G,a as g,b as v,c as D,e,f as n,g as c,h,t as i,i as L,F as $}from"./index-df6b5927.js";class J{constructor(){m(this,"url");m(this,"token");this.url="https://api-sman24.matradipti.org/api/v1/",this.token=JSON.parse(window.localStorage.getItem("token")).token}getDashboardData(){return fetch(`${this.url}static/dashboard`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`}}).then(a=>a.json()).then(a=>a.data)}getTopStudentsData(){return fetch(`${this.url}attandence/latest`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`}}).then(a=>a.json()).then(a=>a.data)}}const W=e("div",{class:"card"},[e("h1",null,"Selamat Datang Di Dashboard SMAN 24 Bandung"),e("p",null,"Jl. A.H. Nasution No.27, Pasir Endah, Kec. Ujung Berung, Kota Bandung, Jawa Barat 40619")],-1),z={class:"grid"},F={class:"col-12"},M={class:"card"},U=e("div",{class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},[e("h5",{class:"m-0"},"Top 5 Presensi Siswa")],-1),q=e("span",{class:"p-column-title"},"Name",-1),Q=e("span",{class:"p-column-title"},"NIS",-1),R=e("span",{class:"p-column-title"},"NISN",-1),X=e("span",{class:"p-column-title"},"Kelas",-1),Y=e("span",{class:"p-column-title"},"Waktu Presensi",-1),Z={class:"col-12 lg:col-6 xl:col-3"},ee={class:"card mb-0"},te={class:"flex justify-content-between mb-3"},ae=e("span",{class:"block text-500 font-medium mb-3"},"Total Siswa Aktif",-1),oe={class:"text-900 font-medium text-xl"},le=e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-users text-blue-500 text-xl"})],-1),se={class:"col-12 lg:col-6 xl:col-3"},ne={class:"card mb-0"},ie={class:"flex justify-content-between mb-3"},de=e("span",{class:"block text-500 font-medium mb-3"},"Total Absen Hari Ini",-1),ce={class:"text-900 font-medium text-xl"},re=e("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-map-marker text-orange-500 text-xl"})],-1),ue={class:"col-12 lg:col-6 xl:col-3"},he={class:"card mb-0"},_e={class:"flex justify-content-between mb-3"},pe=e("span",{class:"block text-500 font-medium mb-3"},"Total Daftar Pencapaian",-1),me={class:"text-900 font-medium text-xl"},ge=e("div",{class:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-inbox text-cyan-500 text-xl"})],-1),ve={class:"col-12 lg:col-6 xl:col-3"},be={class:"card mb-0"},fe={class:"flex justify-content-between mb-3"},ye=e("span",{class:"block text-500 font-medium mb-3"},"Total Daftar Pelanggaran",-1),xe={class:"text-900 font-medium text-xl"},Pe=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-comment text-purple-500 text-xl"})],-1),ke={class:"col-12 xl:col-6"},we={class:"card flex flex-column align-items-center"},Se=e("h5",{class:"text-left w-full"},"Perbandingan Keaktifan status siswa",-1),Ve={class:"col-12 xl:col-6"},Ce={class:"card flex flex-column align-items-center"},Ne=e("h5",{class:"text-left w-full"},"Perbandingan pencapaian dan pelanggaran",-1),Te={class:"col-12 xl:col-6"},De={class:"card flex flex-column align-items-center"},Ae=e("h5",{class:"text-left w-full"},"Perbandingan Gender Siswa",-1),Be={class:"col-12 xl:col-6"},je={class:"card flex flex-column align-items-center"},Ie=e("h5",{class:"text-left w-full"},"Perbandingan Kehadiran",-1),Ke={key:0},Ge=H({__name:"HomePage",setup(d){const{isDarkTheme:a}=O();let t=getComputedStyle(document.documentElement),_=t.getPropertyValue("--text-color");const o=l({}),b=l([]),f=l({}),y=l({}),x=l({}),P=l({}),k=l({}),w=l({}),S=l({}),V=l({}),C=l(null),N=l(!0),T=new J;E(async()=>{await T.getDashboardData().then(r=>o.value=r),await T.getTopStudentsData().then(r=>b.value=r),f.value={labels:["Siswa Aktif","Siswa Tidak Aktif"],datasets:[{data:[o.value.student_active,o.value.student_nonactive],backgroundColor:[t.getPropertyValue("--indigo-500"),t.getPropertyValue("--purple-500"),t.getPropertyValue("--teal-500")],hoverBackgroundColor:[t.getPropertyValue("--indigo-400"),t.getPropertyValue("--purple-400"),t.getPropertyValue("--teal-400")]}]},y.value={plugins:{legend:{labels:{usePointStyle:!0,color:_}}}},x.value={labels:["Laki-Laki","Perempuan"],datasets:[{data:[o.value.student_gender_male,o.value.student_gender_female],backgroundColor:[t.getPropertyValue("--indigo-500"),t.getPropertyValue("--purple-500"),t.getPropertyValue("--teal-500")],hoverBackgroundColor:[t.getPropertyValue("--indigo-400"),t.getPropertyValue("--purple-400"),t.getPropertyValue("--teal-400")]}]},P.value={plugins:{legend:{labels:{usePointStyle:!0,color:_}}}},k.value={labels:["Pelanggaran Siswa","Pencapaian Siswa"],datasets:[{data:[o.value.student_violation,o.value.student_achievement],backgroundColor:[t.getPropertyValue("--indigo-500"),t.getPropertyValue("--purple-500"),t.getPropertyValue("--teal-500")],hoverBackgroundColor:[t.getPropertyValue("--indigo-400"),t.getPropertyValue("--purple-400"),t.getPropertyValue("--teal-400")]}]},w.value={plugins:{legend:{labels:{usePointStyle:!0,color:_}}}},S.value={labels:["Tepat Waktu","Terlambat"],datasets:[{data:[o.value.attandence_notlate,o.value.attandence_islate],backgroundColor:[t.getPropertyValue("--indigo-500"),t.getPropertyValue("--purple-500"),t.getPropertyValue("--teal-500")],hoverBackgroundColor:[t.getPropertyValue("--indigo-400"),t.getPropertyValue("--purple-400"),t.getPropertyValue("--teal-400")]}]},V.value={plugins:{legend:{labels:{usePointStyle:!0,color:_}}}},N.value=!1});const A=()=>{C.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},B=()=>{C.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};return G(a,r=>{r?B():A()},{immediate:!0}),(r,He)=>{const u=g("Column"),j=g("DataTable"),p=g("Chart");return v(),D($,null,[W,e("div",z,[e("div",F,[e("div",M,[n(j,{ref:"dt",value:b.value,dataKey:"student_id",loading:N.value,responsiveLayout:"scroll"},{header:c(()=>[U]),default:c(()=>[n(u,{field:"name",header:"Name",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:c(s=>[q,h(" "+i(s.data.name),1)]),_:1}),n(u,{field:"NIS",header:"NIS",sortable:!0,headerStyle:"width:14%; min-width:8rem;"},{body:c(s=>[Q,h(" "+i(s.data.NIS),1)]),_:1}),n(u,{field:"NISN",header:"NISN",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:c(s=>[R,h(" "+i(s.data.NISN),1)]),_:1}),n(u,{field:"classroom_name",header:"Kelas",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:c(s=>[X,h(" "+i(s.data.classroom_name),1)]),_:1}),n(u,{field:"check_in_time",header:"Waktu Presensi",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:c(s=>[Y,h(" "+i(s.data.check_in_time),1)]),_:1})]),_:1},8,["value","loading"])])]),e("div",Z,[e("div",ee,[e("div",te,[e("div",null,[ae,e("div",oe,i(o.value.student_active),1)]),le])])]),e("div",se,[e("div",ne,[e("div",ie,[e("div",null,[de,e("div",ce,i(o.value.attandence),1)]),re])])]),e("div",ue,[e("div",he,[e("div",_e,[e("div",null,[pe,e("div",me,i(o.value.achievement),1)]),ge])])]),e("div",ve,[e("div",be,[e("div",fe,[e("div",null,[ye,e("div",xe,i(o.value.violation),1)]),Pe])])]),e("div",ke,[e("div",we,[Se,n(p,{type:"pie",data:f.value,options:y.value},null,8,["data","options"])])]),e("div",Ve,[e("div",Ce,[Ne,n(p,{type:"doughnut",data:k.value,options:w.value},null,8,["data","options"])])]),e("div",Te,[e("div",De,[Ae,n(p,{type:"doughnut",data:x.value,options:P.value},null,8,["data","options"])])]),e("div",Be,[e("div",je,[Ie,o.value.attandence_notlate==0?(v(),D("h3",Ke,"Tidak Ada Kehadiran Hari Ini")):(v(),L(p,{key:1,type:"pie",data:S.value,options:V.value},null,8,["data","options"]))])])])],64)}}});export{Ge as default};
