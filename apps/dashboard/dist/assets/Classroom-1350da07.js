import{d as E,h as O,r as u,i as H,o as J,j as Q,a as c,b as g,c as y,e as a,f as l,k as i,l as V,t as D,n as M,m as P}from"./index-655b1c19.js";import{C as W}from"./ClassroomService-4911a0c7.js";const X={class:"grid"},Z={class:"col-12"},ee={class:"card"},ae={class:"my-2"},le={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},te=a("h5",{class:"m-0"},"kelas SMAN 24",-1),se={class:"block mt-2 md:mt-0 p-input-icon-left"},oe=a("i",{class:"pi pi-search"},null,-1),ie=a("span",{class:"p-column-title"},"nama",-1),ne=a("span",{class:"p-column-title"},"status",-1),ue={class:"field"},de=a("label",{for:"name"},"Nama Kelas",-1),re={key:0,class:"p-invalid"},ce={class:"field"},me=a("label",{class:"mb-3"},"Status Kelas",-1),ve={class:"formgrid grid"},pe={class:"field-radiobutton col-6"},fe=a("label",{for:"category1"},"Aktif",-1),_e={class:"field-radiobutton col-6"},be=a("label",{for:"category2"},"Tidak Aktif",-1),he={class:"field"},ge=a("label",{for:"name"},"Nama Kelas",-1),ye={key:0,class:"p-invalid"},ke={class:"field"},Ce=a("label",{class:"mb-3"},"Status Kelas",-1),xe={class:"formgrid grid"},we={class:"field-radiobutton col-6"},Ve=a("label",{for:"category1"},"Aktif",-1),Pe={class:"field-radiobutton col-6"},Se=a("label",{for:"category2"},"Tidak Aktif",-1),De={class:"flex align-items-center justify-content-center"},Te=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Ae={key:0},Me={class:"flex align-items-center justify-content-center"},Ne=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Ke={key:0},Le=E({__name:"Classroom",setup(Ue){const r=O(),v=u(null),f=u(!1),_=u(!1),b=u(!1),h=u(!1),s=u({}),p=u(null),T=u(null),k=u({}),m=u(!1),d=new W;H(()=>{q()}),J(()=>{d.getAllClassroom().then(o=>v.value=o)});const N=()=>{s.value={},m.value=!1,f.value=!0},A=()=>{f.value=!1,m.value=!1,_.value=!1},K=async()=>{m.value=!0,await d.createClassroom(s.value).then(o=>o.status?r.add({severity:"success",summary:"Berhasil",detail:"Berhasil Menambah Kelas",life:3e3}):r.add({severity:"error",summary:"Gagal",detail:"Gagal Menambah Kelas",life:3e3})),await d.getAllClassroom().then(o=>v.value=o),f.value=!1,s.value={}},U=o=>{s.value={...o},_.value=!0},B=async()=>{await d.updateClassroom(s.value).then(o=>o.status?r.add({severity:"success",summary:"Berhasil",detail:"Berhasil Memperbaharui Kelas",life:3e3}):r.add({severity:"error",summary:"Gagal",detail:"Gagal Memperbaharui Kelas",life:3e3})),await d.getAllClassroom().then(o=>v.value=o),_.value=!1},G=o=>{s.value=o,b.value=!0},L=async()=>{await d.deleteClassroom(s.value.id).then(o=>o.status?r.add({severity:"success",summary:"Berhasil",detail:"kelas Dihapus",life:3e3}):r.add({severity:"error",summary:"Gagal",detail:"Gagal Menghapus Kelas",life:3e3})),await d.getAllClassroom().then(o=>v.value=o),b.value=!1,s.value={}},R=()=>{T.value.exportCSV()},Y=()=>{h.value=!0},j=async()=>{await d.deleteMultipleClassroom(p.value).then(o=>o.status?r.add({severity:"success",summary:"Berhasil",detail:"Kelas Terhapus",life:3e3}):r.add({severity:"error",summary:"Gagal",detail:"Kelas Gagal Terhapus",life:3e3})),await d.getAllClassroom().then(o=>v.value=o),h.value=!1,p.value=null},q=()=>{k.value={global:{value:null,matchMode:Q.CONTAINS}}};return(o,t)=>{const $=c("Toast"),n=c("Button"),z=c("Toolbar"),S=c("InputText"),C=c("Column"),F=c("DataTable"),x=c("RadioButton"),w=c("Dialog");return g(),y("div",X,[a("div",Z,[a("div",ee,[l($),l(z,{class:"mb-4"},{start:i(()=>[a("div",ae,[l(n,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:N}),l(n,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:Y,disabled:!p.value||!p.value.length},null,8,["disabled"])])]),end:i(()=>[l(n,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:t[0]||(t[0]=e=>R(e))})]),_:1}),l(F,{ref_key:"dt",ref:T,value:v.value,selection:p.value,"onUpdate:selection":t[2]||(t[2]=e=>p.value=e),dataKey:"id",paginator:!0,rows:5,filters:k.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:i(()=>[a("div",le,[te,a("span",se,[oe,l(S,{modelValue:k.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=e=>k.value.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:i(()=>[l(C,{selectionMode:"multiple",headerStyle:"width: 3rem"}),l(C,{field:"name",header:"Nama Kelas",sortable:!0,headerStyle:"width:30rem;"},{body:i(e=>[ie,V(" "+D(e.data.name),1)]),_:1}),l(C,{field:"status",header:"Status Kelas",sortable:!0,headerStyle:"width:20rem;"},{body:i(e=>[ne,V(" "+D(e.data.active_status?"Aktif":"Tidak Aktif"),1)]),_:1}),l(C,{headerStyle:"min-width:10rem;"},{body:i(e=>[l(n,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:I=>U(e.data)},null,8,["onClick"]),l(n,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:I=>G(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),l(w,{visible:f.value,"onUpdate:visible":t[6]||(t[6]=e=>f.value=e),style:{width:"450px"},header:"Product Details",modal:!0,class:"p-fluid"},{footer:i(()=>[l(n,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:A}),l(n,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:K})]),default:i(()=>[a("div",ue,[de,l(S,{id:"name",modelValue:s.value.name,"onUpdate:modelValue":t[3]||(t[3]=e=>s.value.name=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:M({"p-invalid":m.value&&!s.value.name})},null,8,["modelValue","class"]),m.value&&!s.value.name?(g(),y("small",re,"Name is required.")):P("",!0)]),a("div",ce,[me,a("div",ve,[a("div",pe,[l(x,{id:"category1",name:!0,value:!0,modelValue:s.value.active_status,"onUpdate:modelValue":t[4]||(t[4]=e=>s.value.active_status=e)},null,8,["modelValue"]),fe]),a("div",_e,[l(x,{id:"category2",name:!1,value:!1,modelValue:s.value.active_status,"onUpdate:modelValue":t[5]||(t[5]=e=>s.value.active_status=e)},null,8,["modelValue"]),be])])])]),_:1},8,["visible"]),l(w,{visible:_.value,"onUpdate:visible":t[10]||(t[10]=e=>_.value=e),style:{width:"450px"},header:"Product Details",modal:!0,class:"p-fluid"},{footer:i(()=>[l(n,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:A}),l(n,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:B})]),default:i(()=>[a("div",he,[ge,l(S,{id:"name",modelValue:s.value.name,"onUpdate:modelValue":t[7]||(t[7]=e=>s.value.name=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:M({"p-invalid":m.value&&!s.value.name})},null,8,["modelValue","class"]),m.value&&!s.value.name?(g(),y("small",ye,"Name is required.")):P("",!0)]),a("div",ke,[Ce,a("div",xe,[a("div",we,[l(x,{id:"category1",name:!0,value:!0,modelValue:s.value.active_status,"onUpdate:modelValue":t[8]||(t[8]=e=>s.value.active_status=e)},null,8,["modelValue"]),Ve]),a("div",Pe,[l(x,{id:"category2",name:!1,value:!1,modelValue:s.value.active_status,"onUpdate:modelValue":t[9]||(t[9]=e=>s.value.active_status=e)},null,8,["modelValue"]),Se])])])]),_:1},8,["visible"]),l(w,{visible:b.value,"onUpdate:visible":t[12]||(t[12]=e=>b.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:i(()=>[l(n,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[11]||(t[11]=e=>b.value=!1)}),l(n,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:L})]),default:i(()=>[a("div",De,[Te,s.value?(g(),y("span",Ae,[V("Apakah Anda Yakin Untuk Menghapus "),a("b",null,D(s.value.name),1),V("?")])):P("",!0)])]),_:1},8,["visible"]),l(w,{visible:h.value,"onUpdate:visible":t[14]||(t[14]=e=>h.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:i(()=>[l(n,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[13]||(t[13]=e=>h.value=!1)}),l(n,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:j})]),default:i(()=>[a("div",Me,[Ne,s.value?(g(),y("span",Ke,"Apakah Anda Yakin Untuk Menghapus Kelas Yang Dipilih?")):P("",!0)])]),_:1},8,["visible"])])])])}}});export{Le as default};
