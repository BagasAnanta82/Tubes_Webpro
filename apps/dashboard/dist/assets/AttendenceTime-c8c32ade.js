var k=Object.defineProperty;var v=(n,e,t)=>e in n?k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var d=(n,e,t)=>(v(n,typeof e!="symbol"?e+"":e,t),t);import{d as f,r as g,h as V,i as b,a as i,b as x,c as A,f as s,k as B,l as y,e as a}from"./index-2d4ae783.js";class U{constructor(){d(this,"url");d(this,"token");this.url="https://api-sman24dev.matradipti.org/api/v1/",this.token=JSON.parse(window.localStorage.getItem("token")).token}getAttandenceTime(){return fetch(`${this.url}attandence/time`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`}}).then(e=>e.json()).then(e=>e.data)}updateAttandenceTime(e){return fetch(`${this.url}attandence/time`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({id:e.id,hours:e.hours,minutes:e.minutes})}).then(t=>t.json()).then(t=>t)}}const N={class:"card"},S=a("h1",{class:"text-center"},"Konfigurasi Waktu Presensi",-1),j=a("h3",null,"Jam",-1),w=a("h3",null,"Menit",-1),C=a("h3",null,"Terakhir Update",-1),I=a("br",null,null,-1),P=a("br",null,null,-1),G=a("br",null,null,-1),J=f({__name:"AttendenceTime",setup(n){const e=g({}),t=V(),r=new U;b(()=>{r.getAttandenceTime().then(u=>e.value=u[0])});const c=async()=>{await r.updateAttandenceTime(e.value).then(u=>u.status?t.add({severity:"success",summary:"Gagal",detail:"Berhasil Update Waktu Presensi",life:3e3}):t.add({severity:"error",summary:"Gagal",detail:"Gagal Untuk Update Waktu Presensi",life:3e3}))};return(u,o)=>{const p=i("Toast"),h=i("Message"),m=i("InputNumber"),_=i("InputText"),T=i("Button");return x(),A("div",N,[s(p),S,s(h,null,{default:B(()=>[y("Penginputan jam merupakan nilai dengan 1 - 24. Dan menit dalam 1 - 60")]),_:1}),j,s(m,{min:1,max:24,modelValue:e.value.hours,"onUpdate:modelValue":o[0]||(o[0]=l=>e.value.hours=l)},null,8,["modelValue"]),w,s(m,{min:0,max:60,modelValue:e.value.minutes,"onUpdate:modelValue":o[1]||(o[1]=l=>e.value.minutes=l)},null,8,["modelValue"]),C,s(_,{modelValue:e.value.updated_at,"onUpdate:modelValue":o[2]||(o[2]=l=>e.value.updated_at=l),disabled:""},null,8,["modelValue"]),I,P,G,s(T,{label:"Save",icon:"pi pi-check",onClick:c})])}}});export{J as default};
