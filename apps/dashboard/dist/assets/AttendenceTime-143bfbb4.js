var T=Object.defineProperty;var k=(n,e,t)=>e in n?T(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var d=(n,e,t)=>(k(n,typeof e!="symbol"?e+"":e,t),t);import{d as f,r as g,h as V,i as b,a as u,b as x,c as A,f as s,k as B,l as y,e as a}from"./index-cbda50b0.js";class S{constructor(){d(this,"url");d(this,"token");this.url="https://api-sman24dev.matradipti.org/api/v1/",this.token=JSON.parse(window.localStorage.getItem("token")).token}getAttandenceTime(){return fetch(`${this.url}attandence/time`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`}}).then(e=>e.json()).then(e=>e.data)}updateAttandenceTime(e){return fetch(`${this.url}attandence/time`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({id:e.id,hours:e.hours,minutes:e.minutes})}).then(t=>t.json()).then(t=>t)}}const U={class:"card"},N=a("h1",{class:"text-center"},"Konfigurasi Waktu Presensi",-1),w=a("h3",null,"Jam",-1),I=a("h3",null,"Menit",-1),j=a("h3",null,"Terakhir Update",-1),C=a("br",null,null,-1),P=a("br",null,null,-1),G=a("br",null,null,-1),D=f({__name:"AttendenceTime",setup(n){const e=g({}),t=V(),r=new S;b(()=>{r.getAttandenceTime().then(l=>e.value=l[0])});const c=async()=>{await r.updateAttandenceTime(e.value).then(l=>{l.status?t.add({severity:"success",summary:"Gagal",detail:"Berhasil Update Waktu Presensi",life:3e3}):t.add({severity:"error",summary:"Gagal",detail:"Gagal Untuk Update Waktu Presensi",life:3e3}),l.status&&(e.value.updated_at=new Date().toISOString())})};return(l,o)=>{const p=u("Toast"),h=u("Message"),m=u("InputNumber"),_=u("InputText"),v=u("Button");return x(),A("div",U,[s(p),N,s(h,null,{default:B(()=>[y("Penginputan jam merupakan nilai dengan 1 - 24. Dan menit dalam 0 - 60")]),_:1}),w,s(m,{min:1,max:24,modelValue:e.value.hours,"onUpdate:modelValue":o[0]||(o[0]=i=>e.value.hours=i)},null,8,["modelValue"]),I,s(m,{min:0,max:60,modelValue:e.value.minutes,"onUpdate:modelValue":o[1]||(o[1]=i=>e.value.minutes=i)},null,8,["modelValue"]),j,s(_,{modelValue:e.value.updated_at,"onUpdate:modelValue":o[2]||(o[2]=i=>e.value.updated_at=i),disabled:""},null,8,["modelValue"]),C,P,G,s(v,{label:"Save",icon:"pi pi-check",onClick:c})])}}});export{D as default};
