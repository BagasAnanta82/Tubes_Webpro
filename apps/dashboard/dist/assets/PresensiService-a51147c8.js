var s=Object.defineProperty;var d=(n,e,t)=>e in n?s(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var r=(n,e,t)=>(d(n,typeof e!="symbol"?e+"":e,t),t);class h{constructor(){r(this,"url");r(this,"token");this.url="https://api-sman24.matradipti.org/api/v1/",this.token=JSON.parse(window.localStorage.getItem("token")).token}getStudentAttendences(e=new Date().toISOString(),t=null){return fetch(`${this.url}attandence/records?date_at=${e}&classroom_id=${t}`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`}}).then(a=>a.json()).then(a=>a.data)}getStudentAttendencesByStudentId(e){return fetch(`${this.url}public/attandence/students?id=${e.student_id}&atk_id=5ea28465-8775-4154-ad32-35a16d74da1c`,{method:"GET"}).then(t=>t.json()).then(t=>t.data)}async getStudentAttendencesExcelExport(e=new Date().toISOString()){const t=await fetch(`${this.url}excel/attandence?date_at=${e}`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`}}).then(o=>o.arrayBuffer()).then(o=>o),a=new File([t],"filename.xlsx",{type:"application/vnd.ms-excel"}),i=URL.createObjectURL(a);window.open(i)}generateStudentDidNotTapping(e=new Date().toISOString()){return fetch(`${this.url}attandence/generate`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({date_at:e})}).then(t=>t.json()).then(t=>t)}}export{h as P};
