var I=Object.defineProperty;var K=(d,a,t)=>a in d?I(d,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[a]=t;var m=(d,a,t)=>(K(d,typeof a!="symbol"?a+"":a,t),t);import{d as O,u as G,r as o,o as H,w as L,a as g,b as v,c as D,e,f as n,g as c,h,t as i,i as E,F as $}from"./index-a6abef94.js";class J{constructor(){m(this,"url");m(this,"token");this.url="https://api-smktelkombandung.matradipti.org/api/v1/",this.token=JSON.parse(window.localStorage.getItem("token")).token}getDashboardData(){return fetch(`${this.url}static/dashboard`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`}}).then(a=>a.json()).then(a=>a.data)}getTopStudentsData(){return fetch(`${this.url}attandence/latest`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`}}).then(a=>a.json()).then(a=>a.data)}}const W=e("div",{class:"card"},[e("h1",null,"Selamat Datang Di Dashboard SMK Telkom Bandung"),e("p",null,"Jl. Radio Palasari Road, Citeureup, Kec. Dayeuhkolot, Kabupaten Bandung, Jawa Barat 40257")],-1),z={class:"grid"},F={class:"col-12"},M={class:"card"},R=e("div",{class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},[e("h5",{class:"m-0"},"Top 5 Presensi Siswa")],-1),q=e("span",{class:"p-column-title"},"Name",-1),Q=e("span",{class:"p-column-title"},"NIS",-1),U=e("span",{class:"p-column-title"},"NISN",-1),X=e("span",{class:"p-column-title"},"Kelas",-1),Y=e("span",{class:"p-column-title"},"Waktu Presensi",-1),Z={class:"col-12 lg:col-6 xl:col-3"},ee={class:"card mb-0"},te={class:"flex justify-content-between mb-3"},ae=e("span",{class:"block text-500 font-medium mb-3"},"Total Siswa Aktif",-1),le={class:"text-900 font-medium text-xl"},oe=e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-users text-blue-500 text-xl"})],-1),se={class:"col-12 lg:col-6 xl:col-3"},ne={class:"card mb-0"},ie={class:"flex justify-content-between mb-3"},de=e("span",{class:"block text-500 font-medium mb-3"},"Total Absen Hari Ini",-1),ce={class:"text-900 font-medium text-xl"},re=e("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-map-marker text-orange-500 text-xl"})],-1),ue={class:"col-12 lg:col-6 xl:col-3"},he={class:"card mb-0"},_e={class:"flex justify-content-between mb-3"},pe=e("span",{class:"block text-500 font-medium mb-3"},"Total Daftar Pencapaian",-1),me={class:"text-900 font-medium text-xl"},ge=e("div",{class:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-inbox text-cyan-500 text-xl"})],-1),ve={class:"col-12 lg:col-6 xl:col-3"},be={class:"card mb-0"},fe={class:"flex justify-content-between mb-3"},ye=e("span",{class:"block text-500 font-medium mb-3"},"Total Daftar Pelanggaran",-1),xe={class:"text-900 font-medium text-xl"},ke=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-comment text-purple-500 text-xl"})],-1),Pe={class:"col-12 xl:col-6"},we={class:"card flex flex-column align-items-center"},Se=e("h5",{class:"text-left w-full"},"Perbandingan Keaktifan status siswa",-1),Ve={class:"col-12 xl:col-6"},Ce={class:"card flex flex-column align-items-center"},Te=e("h5",{class:"text-left w-full"},"Perbandingan pencapaian dan pelanggaran",-1),Ne={class:"col-12 xl:col-6"},De={class:"card flex flex-column align-items-center"},Ae=e("h5",{class:"text-left w-full"},"Perbandingan Gender Siswa",-1),Be={class:"col-12 xl:col-6"},je={class:"card flex flex-column align-items-center"},Ie=e("h5",{class:"text-left w-full"},"Perbandingan Kehadiran",-1),Ke={key:0},Le=O({__name:"HomePage",setup(d){const{isDarkTheme:a}=G();let t=getComputedStyle(document.documentElement),_=t.getPropertyValue("--text-color");const l=o({}),b=o([]),f=o({}),y=o({}),x=o({}),k=o({}),P=o({}),w=o({}),S=o({}),V=o({}),C=o(null),T=o(!0),N=new J;H(async()=>{await N.getDashboardData().then(r=>l.value=r),await N.getTopStudentsData().then(r=>b.value=r),f.value={labels:["Siswa Aktif","Siswa Tidak Aktif"],datasets:[{data:[l.value.student_active,l.value.student_nonactive],backgroundColor:[t.getPropertyValue("--indigo-500"),t.getPropertyValue("--purple-500"),t.getPropertyValue("--teal-500")],hoverBackgroundColor:[t.getPropertyValue("--indigo-400"),t.getPropertyValue("--purple-400"),t.getPropertyValue("--teal-400")]}]},y.value={plugins:{legend:{labels:{usePointStyle:!0,color:_}}}},x.value={labels:["Laki-Laki","Perempuan"],datasets:[{data:[l.value.student_gender_male,l.value.student_gender_female],backgroundColor:[t.getPropertyValue("--indigo-500"),t.getPropertyValue("--purple-500"),t.getPropertyValue("--teal-500")],hoverBackgroundColor:[t.getPropertyValue("--indigo-400"),t.getPropertyValue("--purple-400"),t.getPropertyValue("--teal-400")]}]},k.value={plugins:{legend:{labels:{usePointStyle:!0,color:_}}}},P.value={labels:["Pelanggaran Siswa","Pencapaian Siswa"],datasets:[{data:[l.value.student_violation,l.value.student_achievement],backgroundColor:[t.getPropertyValue("--indigo-500"),t.getPropertyValue("--purple-500"),t.getPropertyValue("--teal-500")],hoverBackgroundColor:[t.getPropertyValue("--indigo-400"),t.getPropertyValue("--purple-400"),t.getPropertyValue("--teal-400")]}]},w.value={plugins:{legend:{labels:{usePointStyle:!0,color:_}}}},S.value={labels:["Tepat Waktu","Terlambat"],datasets:[{data:[l.value.attandence_notlate,l.value.attandence_islate],backgroundColor:[t.getPropertyValue("--indigo-500"),t.getPropertyValue("--purple-500"),t.getPropertyValue("--teal-500")],hoverBackgroundColor:[t.getPropertyValue("--indigo-400"),t.getPropertyValue("--purple-400"),t.getPropertyValue("--teal-400")]}]},V.value={plugins:{legend:{labels:{usePointStyle:!0,color:_}}}},T.value=!1});const A=()=>{C.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},B=()=>{C.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};return L(a,r=>{r?B():A()},{immediate:!0}),(r,Oe)=>{const u=g("Column"),j=g("DataTable"),p=g("Chart");return v(),D($,null,[W,e("div",z,[e("div",F,[e("div",M,[n(j,{ref:"dt",value:b.value,dataKey:"student_id",loading:T.value,responsiveLayout:"scroll"},{header:c(()=>[R]),default:c(()=>[n(u,{field:"name",header:"Name",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:c(s=>[q,h(" "+i(s.data.name),1)]),_:1}),n(u,{field:"NIS",header:"NIS",sortable:!0,headerStyle:"width:14%; min-width:8rem;"},{body:c(s=>[Q,h(" "+i(s.data.NIS),1)]),_:1}),n(u,{field:"NISN",header:"NISN",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:c(s=>[U,h(" "+i(s.data.NISN),1)]),_:1}),n(u,{field:"classroom_name",header:"Kelas",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:c(s=>[X,h(" "+i(s.data.classroom_name),1)]),_:1}),n(u,{field:"check_in_time",header:"Waktu Presensi",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:c(s=>[Y,h(" "+i(s.data.check_in_time),1)]),_:1})]),_:1},8,["value","loading"])])]),e("div",Z,[e("div",ee,[e("div",te,[e("div",null,[ae,e("div",le,i(l.value.student_active),1)]),oe])])]),e("div",se,[e("div",ne,[e("div",ie,[e("div",null,[de,e("div",ce,i(l.value.attandence),1)]),re])])]),e("div",ue,[e("div",he,[e("div",_e,[e("div",null,[pe,e("div",me,i(l.value.achievement),1)]),ge])])]),e("div",ve,[e("div",be,[e("div",fe,[e("div",null,[ye,e("div",xe,i(l.value.violation),1)]),ke])])]),e("div",Pe,[e("div",we,[Se,n(p,{type:"pie",data:f.value,options:y.value},null,8,["data","options"])])]),e("div",Ve,[e("div",Ce,[Te,n(p,{type:"doughnut",data:P.value,options:w.value},null,8,["data","options"])])]),e("div",Ne,[e("div",De,[Ae,n(p,{type:"doughnut",data:x.value,options:k.value},null,8,["data","options"])])]),e("div",Be,[e("div",je,[Ie,l.value.attandence_notlate==0?(v(),D("h3",Ke,"Tidak Ada Kehadiran Hari Ini")):(v(),E(p,{key:1,type:"pie",data:S.value,options:V.value},null,8,["data","options"]))])])])],64)}}});export{Le as default};
