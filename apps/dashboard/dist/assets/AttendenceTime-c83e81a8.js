var T=Object.defineProperty;var v=(n,e,t)=>e in n?T(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var d=(n,e,t)=>(v(n,typeof e!="symbol"?e+"":e,t),t);import{d as f,r as g,h as V,i as b,a as i,b as x,c as A,f as s,k as B,l as y,e as a}from"./index-6e091243.js";class S{constructor(){d(this,"url");d(this,"token");this.url="https://api-sman24.matradipti.org/api/v1/",this.token=JSON.parse(window.localStorage.getItem("token")).token}getAttandenceTime(){return fetch(`${this.url}attandence/time`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`}}).then(e=>e.json()).then(e=>e.data)}updateAttandenceTime(e){return fetch(`${this.url}attandence/time`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({id:e.id,hours:e.hours,minutes:e.minutes})}).then(t=>t.json()).then(t=>t)}}const U={class:"card"},w=a("h1",{class:"text-center"},"Konfigurasi Waktu Presensi",-1),N=a("h3",null,"Jam",-1),I=a("h3",null,"Menit",-1),j=a("h3",null,"Terakhir Update",-1),C=a("br",null,null,-1),G=a("br",null,null,-1),M=a("br",null,null,-1),J=f({__name:"AttendenceTime",setup(n){const e=g({}),t=V(),r=new S;b(()=>{r.getAttandenceTime().then(l=>e.value=l[0])});const c=async()=>{await r.updateAttandenceTime(e.value).then(l=>{l.status?t.add({severity:"success",summary:"Gagal",detail:"Berhasil Update Waktu Presensi",life:3e3}):t.add({severity:"error",summary:"Gagal",detail:"Gagal Untuk Update Waktu Presensi",life:3e3}),l.status&&(e.value.updated_at=new Date().toISOString())})};return(l,o)=>{const p=i("Toast"),h=i("Message"),m=i("InputNumber"),_=i("InputText"),k=i("Button");return x(),A("div",U,[s(p),w,s(h,null,{default:B(()=>[y("Format atur waktu presensi untuk jam adalah 0-23 dan untuk menit 0-59")]),_:1}),N,s(m,{min:1,max:24,modelValue:e.value.hours,"onUpdate:modelValue":o[0]||(o[0]=u=>e.value.hours=u)},null,8,["modelValue"]),I,s(m,{min:0,max:60,modelValue:e.value.minutes,"onUpdate:modelValue":o[1]||(o[1]=u=>e.value.minutes=u)},null,8,["modelValue"]),j,s(_,{modelValue:e.value.updated_at,"onUpdate:modelValue":o[2]||(o[2]=u=>e.value.updated_at=u),disabled:""},null,8,["modelValue"]),C,G,M,s(k,{label:"Save",icon:"pi pi-check",onClick:c})])}}});export{J as default};
