var T=Object.defineProperty;var v=(n,e,t)=>e in n?T(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var d=(n,e,t)=>(v(n,typeof e!="symbol"?e+"":e,t),t);import{d as f,r as V,j as g,k as A,a as i,b,c as x,f as s,g as B,h as U,e as a}from"./index-300b928b.js";class y{constructor(){d(this,"url");d(this,"token");this.url={}.VITE_API_URL_V1,this.token=JSON.parse(window.localStorage.getItem("token")).token}getAttandenceTime(){return fetch(`${this.url}attandence/time`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`}}).then(e=>e.json()).then(e=>e.data)}updateAttandenceTime(e){return fetch(`${this.url}attandence/time`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({id:e.id,hours:e.hours,minutes:e.minutes})}).then(t=>t.json()).then(t=>t)}}const I={class:"card"},S=a("h1",{class:"text-center"},"Konfigurasi Waktu Presensi",-1),w=a("h3",null,"Jam",-1),N=a("h3",null,"Menit",-1),j=a("h3",null,"Terakhir Update",-1),C=a("br",null,null,-1),P=a("br",null,null,-1),G=a("br",null,null,-1),E=f({__name:"AttendenceTime",setup(n){const e=V({}),t=g(),r=new y;A(()=>{r.getAttandenceTime().then(l=>e.value=l[0])});const m=async()=>{await r.updateAttandenceTime(e.value).then(l=>{l.status?t.add({severity:"success",summary:"Gagal",detail:"Berhasil Update Waktu Presensi",life:3e3}):t.add({severity:"error",summary:"Gagal",detail:"Gagal Untuk Update Waktu Presensi",life:3e3}),l.status&&(e.value.updated_at=new Date().toISOString())})};return(l,o)=>{const h=i("Toast"),p=i("Message"),c=i("InputNumber"),_=i("InputText"),k=i("Button");return b(),x("div",I,[s(h),S,s(p,null,{default:B(()=>[U("Format atur waktu presensi untuk jam adalah 0-23 dan untuk menit 0-59")]),_:1}),w,s(c,{min:1,max:24,modelValue:e.value.hours,"onUpdate:modelValue":o[0]||(o[0]=u=>e.value.hours=u)},null,8,["modelValue"]),N,s(c,{min:0,max:60,modelValue:e.value.minutes,"onUpdate:modelValue":o[1]||(o[1]=u=>e.value.minutes=u)},null,8,["modelValue"]),j,s(_,{modelValue:e.value.updated_at,"onUpdate:modelValue":o[2]||(o[2]=u=>e.value.updated_at=u),disabled:""},null,8,["modelValue"]),C,P,G,s(k,{label:"Save",icon:"pi pi-check",onClick:m})])}}});export{E as default};
